{{#data-table content=model isLoading=isLoading noDataMessage="Geen mandatarissen gevonden"
   sort=sort page=page size=size class="mandataris-data-table" as |t|}}
  {{#t.content as |c|}}
    {{#c.header}}
      {{th-sortable field='bekleedt.bestuursfunctie.label' currentSorting=sort label='Mandaat'}}

      {{th-sortable field='heeftLidmaatschap.binnenFractie.naam' currentSorting=sort label='Fractie' class="u-hidden--mobile"}}
      {{th-sortable field='isBestuurlijkeAliasVan.gebruikteVoornaam' currentSorting=sort label='Naam'}}
      {{th-sortable field='isBestuurlijkeAliasVan.achternaam' currentSorting=sort label='Familienaam'}}
      <th class="u-visible--tablet-landscape-up">Bevoegdheden</th>
      {{th-sortable field='start' currentSorting=sort label='Start' class="u-visible--tablet-portrait-up"}}
      {{th-sortable field='einde' currentSorting=sort label='Einde' class="u-visible--tablet-portrait-up"}}
    {{/c.header}}
    {{#c.body as |row|}}
      <td>
        {{#with-rdfa-context model=row as |ctx|}}
          {{#ctx.get prop="bekleedt" as |attrs value mandaat|}}
            <div {{rdfa attrs}}>
              {{#mandaat.get prop="bestuursfunctie" as |attrs value rol|}}
                <div {{rdfa attrs}}>
                  {{rol.get prop="label"}}
                </div>
              {{/mandaat.get}}
            </div>
          {{/ctx.get}}
        {{/with-rdfa-context}}
      </td>

      <td class="u-hidden--mobile">
        {{row.heeftLidmaatschap.binnenFractie.naam}}
      </td>
      <td>
        {{#with-rdfa-context model=row as |ctx|}}
          {{#ctx.get prop="isBestuurlijkeAliasVan" as |attrs value alias|}}
            <div {{rdfa attrs}}>
              {{#link-to 'persoon.subject.index' row.isBestuurlijkeAliasVan.id}}
                {{alias.get prop="gebruikteVoornaam"}}
              {{/link-to}}
            </div>
          {{/ctx.get}}
        {{/with-rdfa-context}}
      </td>
      <td>
        {{#with-rdfa-context model=row as |ctx|}}
          {{#ctx.get prop="isBestuurlijkeAliasVan" as |attrs value alias|}}
            <div {{rdfa attrs}}>
              {{#link-to 'persoon.subject.index' row.isBestuurlijkeAliasVan.id}}
                {{alias.get prop="achternaam"}}
              {{/link-to}}
            </div>
          {{/ctx.get}}
        {{/with-rdfa-context}}
      </td>
      <td class="u-visible--tablet-landscape-up">
        {{#with-rdfa-context model=row as |ctx|}}
          {{#ctx.each prop="beleidsdomein" as |attrs value beleidsdomein|}}
            <div {{rdfa attrs}}>
              {{beleidsdomein.get prop="label"}}<br>
            </div>
          {{/ctx.each}}
        {{/with-rdfa-context}}
      </td>
      <td class="u-visible--tablet-portrait-up">
        {{#with-rdfa-context model=row as |ctx|}}
          {{#ctx.get prop="start" as |attrs value|}}
            <div {{rdfa attrs}}>
              {{moment-format row.start 'DD/MM/YYYY'}}
            </div>
          {{/ctx.get}}
        {{/with-rdfa-context}}
      </td>
      <td class="u-visible--tablet-portrait-up">
        {{#with-rdfa-context model=row as |ctx|}}
          {{#ctx.get prop="einde"}}
            <div {{rdfa attrs}}>
              {{moment-format row.einde 'DD/MM/YYYY'}}
            </div>
          {{/ctx.get}}
        {{/with-rdfa-context}}
      </td>
    {{/c.body}}
  {{/t.content}}
{{/data-table}}
